{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","this","props","src","alt","onModal","largeImg","className","styles","onClick","ImageGalleryItemImage","React","Component","Button","loadMore","type","modalRoot","document","querySelector","Modal","handleKeydown","e","code","handleBackdropClick","currentTarget","target","window","addEventListener","removeEventListener","modalImg","modalImgALT","createPortal","Overlay","API_KEY","BASE_URL","STATUS","ImageGallery","state","images","page","perPage","status","error","showModal","modalImageURL","modalImageALT","scrolling","scrollTo","top","documentElement","scrollHeight","behavior","handleLoadMore","setState","prevState","toggleModal","url","prevProps","searchQuery","fetch","then","response","json","data","hits","length","toast","catch","message","inscription","loader","color","height","width","timeout","map","image","webformatURL","largeImageURL","tags","id","Searchbar","searchInput","handleInput","event","value","toLowerCase","handleSubmit","preventDefault","trim","submit","SearchForm","onSubmit","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","App","handleSearchbar","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,mCAAmC,OAAS,6BAA6B,YAAc,oC,mBCAxHD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,yNCIrBC,E,4JAQJ,WACE,MAAwCC,KAAKC,MAArCC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAKC,EAAlB,EAAkBA,QAASC,EAA3B,EAA2BA,SAC3B,OACE,oBACEC,UAAWC,IAAOR,iBAClBS,QAAS,kBAAMJ,EAAQC,EAAUF,IAFnC,SAIE,qBAAKD,IAAKA,EAAKC,IAAKA,EAAKG,UAAWC,IAAOE,8B,GAfpBC,IAAMC,WAqBtBZ,I,iBCVAa,MAXf,YAA+B,IAAbC,EAAY,EAAZA,SAChB,OACE,wBAAQC,KAAK,SAASR,UAAWC,IAAOK,OAAQJ,QAASK,EAAzD,2B,iBCDEE,EAAYC,SAASC,cAAc,eACnCC,E,4MAaJC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,MACJ,EAAKpB,MAAMG,W,EAGfkB,oBAAsB,SAAAF,GAChBA,EAAEG,gBAAkBH,EAAEI,QACxB,EAAKvB,MAAMG,W,uDAbf,WACEqB,OAAOC,iBAAiB,UAAW1B,KAAKmB,iB,kCAE1C,WACEM,OAAOE,oBAAoB,UAAW3B,KAAKmB,iB,oBAa7C,WACE,MAAkCnB,KAAKC,MAA/B2B,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,YAElB,OAAOC,uBACL,qBAAKxB,UAAWC,IAAOwB,QAASvB,QAASR,KAAKsB,oBAA9C,SACE,qBAAKhB,UAAWC,IAAOW,MAAvB,SACE,qBAAKhB,IAAK0B,EAAUzB,IAAK0B,QAG7Bd,O,GAjCcJ,aAsCLO,I,iBCnCTc,EAAU,qCACVC,EAAW,2BACXC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGNC,E,4MAGJC,MAAQ,CACNC,OAAQ,GACRC,KAAM,EACNC,QAAS,GACTC,OAAQN,EACRO,MAAO,KACPC,WAAW,EACXC,cAAe,GACfC,cAAe,I,EAsDjBC,UAAY,WACVpB,OAAOqB,SAAS,CACdC,IAAK/B,SAASgC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,eAAiB,WACf,EAAKC,UAAS,SAAAC,GAAS,MAAK,CAAEf,KAAMe,EAAUf,KAAO,O,EAGvDgB,YAAc,SAACC,EAAKpD,GAClB,EAAKiD,UAAS,kBAAoB,CAChCV,WADY,EAAGA,UAEfC,cAAeY,EACfX,cAAezC,O,wDAlEnB,SAAmBqD,EAAWH,GAAY,IAAD,OACvC,EAA0BrD,KAAKoC,MAAvBE,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACNkB,EAAgBzD,KAAKC,MAArBwD,YAEJD,EAAUC,cAAgBA,IAC5BzD,KAAKoD,SAAS,CAAEZ,OAAQN,IACxBwB,MAAM,GAAD,OACAzB,EADA,cACcjC,KAAKC,MAAMwD,YADzB,iBAC6CnB,EAD7C,gBACyDN,EADzD,6DACqHO,IAEvHoB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACAA,EAAKC,KAAKC,OAAS,EACrB,EAAKZ,SAAS,CACZf,OAAO,YAAKyB,EAAKC,MACjBvB,OAAQN,IAEL+B,IAAMxB,MAAN,mCAAwCgB,EAAxC,SAERS,OAAM,SAAAzB,GACL,EAAKW,SAAS,CACZZ,OAAQN,EACRO,QACAJ,OAAQ,KAEV4B,IAAMxB,MAAN,UAAeA,EAAM0B,cAIvBd,EAAUf,OAASA,IACrBtC,KAAKoD,SAAS,CAAEZ,OAAQN,IACxBwB,MAAM,GAAD,OACAzB,EADA,cACcjC,KAAKC,MAAMwD,YADzB,iBAC6CnB,EAD7C,gBACyDN,EADzD,6DACqHO,IAEvHoB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACAA,EAAKC,KAAKC,OAAS,EACrB,EAAKZ,SAAS,CACZf,OAAO,GAAD,mBAAMgB,EAAUhB,QAAhB,YAA2ByB,EAAKC,OACtCvB,OAAQN,IAEL+B,IAAMxB,MAAN,mCAAwCgB,EAAxC,SAERS,OAAM,SAAAzB,GACL,EAAKW,SAAS,CAAEZ,OAAQN,EAAiBO,UACzCwB,IAAMxB,MAAN,UAAeA,EAAM0B,cAI3BnE,KAAK6C,c,oBAsBP,WAAU,IAAD,OACP,EAA6C7C,KAAKoC,MAA1CC,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,OAAQC,EAAxB,EAAwBA,MAAOC,EAA/B,EAA+BA,UAE/B,OAAIF,IAAWN,EACN,oBAAI5B,UAAWC,IAAO6D,YAAtB,qCAGL5B,IAAWN,EAEX,qBAAK5B,UAAWC,IAAO8D,OAAvB,SACE,cAAC,IAAD,CACEvD,KAAK,YACLwD,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,QAMbjC,IAAWN,EACN,oBAAI5B,UAAWC,IAAO6D,YAAtB,SAAoC3B,EAAM0B,UAG/C3B,IAAWN,EAEX,qCACE,oBAAI5B,UAAWC,IAAO4B,aAAtB,SACGE,EAAOqC,KAAI,SAAAC,GAAK,OACf,cAAC,EAAD,CAEEzE,IAAKyE,EAAMC,aACXvE,SAAUsE,EAAME,cAChBzE,QAAS,EAAKkD,YACdnD,IAAKwE,EAAMG,MAJNH,EAAMI,SAQjB,cAAC,EAAD,CAAQlE,SAAUb,KAAKmD,iBACtBT,GACC,cAAC,EAAD,CACEtC,QAASJ,KAAKsD,YACd1B,SAAU5B,KAAKoC,MAAMO,cACrBd,YAAa7B,KAAKoC,MAAMQ,wBAnBlC,M,GA7GuBlC,IAAMC,WAyIlBwB,I,gBCtJM6C,E,4MAGnB5C,MAAQ,CACN6C,YAAa,I,EAGfC,YAAc,SAAAC,GACZ,EAAK/B,SAAS,CAAE6B,YAAaE,EAAM5D,cAAc6D,MAAMC,iB,EAGzDC,aAAe,SAAAH,GAGb,GAFAA,EAAMI,iBAEgC,KAAlC,EAAKnD,MAAM6C,YAAYO,OACzB,OAAOvB,IAAMxB,MAAM,2BAGrB,EAAKxC,MAAMwF,OAAO,EAAKrD,MAAM6C,aAC7B,EAAK7B,SAAS,CAAE6B,YAAa,M,4CAG/B,WACE,OACE,wBAAQ3E,UAAWC,IAAOyE,UAA1B,SACE,uBAAM1E,UAAWC,IAAOmF,WAAYC,SAAU3F,KAAKsF,aAAnD,UACE,wBAAQxE,KAAK,SAASR,UAAWC,IAAOqF,iBAAxC,SACE,sBAAMtF,UAAWC,IAAOsF,sBAAxB,sBAGF,uBACEC,SAAU9F,KAAKkF,YACf5E,UAAWC,IAAOwF,gBAClBjF,KAAK,OACLkF,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZd,MAAOpF,KAAKoC,MAAM6C,uB,GArCSvE,IAAMC,WCEvCwF,G,kNACJ/D,MAAQ,CACN6C,YAAa,I,EAGfmB,gBAAkB,SAAAtC,GAChB,EAAKV,SAAS,CAAE6B,YAAanB,K,4CAG/B,WACE,OACE,sBAAKxD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWmF,OAAQzF,KAAKoG,kBACxB,cAAC,EAAD,CAAc3C,YAAazD,KAAKoC,MAAM6C,cACtC,cAAC,IAAD,CACEoB,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,W,GAvBJnG,IAAMC,YA8BTwF,ICjCfW,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhG,SAASiG,eAAe,U,kBCR1BpH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,uC","file":"static/js/main.9517baa4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"loader\":\"ImageGallery_loader__2MCw-\",\"inscription\":\"ImageGallery_inscription__pQbl2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends React.Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    largeImg: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    openModal: PropTypes.func,\n  };\n\n  render() {\n    const { src, alt, onModal, largeImg } = this.props;\n    return (\n      <li\n        className={styles.ImageGalleryItem}\n        onClick={() => onModal(largeImg, alt)}\n      >\n        <img src={src} alt={alt} className={styles.ImageGalleryItemImage} />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css';\n\nfunction Button({ loadMore }) {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={loadMore}>\n      Load more...\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  static propTypes = {\n    onModal: PropTypes.func.isRequired,\n    modalImg: PropTypes.string.isRequired,\n    modalImgALT: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onModal();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onModal();\n    }\n  };\n\n  render() {\n    const { modalImg, modalImgALT } = this.props;\n\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={modalImg} alt={modalImgALT} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport styles from './ImageGallery.module.css';\n\nconst API_KEY = '22540552-ad6fedb3f5750c17229d327bb';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  rejected: 'rejected',\n  resolved: 'resolved',\n};\n\nclass ImageGallery extends React.Component {\n  static propTypes = { searchQuery: PropTypes.string };\n\n  state = {\n    images: [],\n    page: 1,\n    perPage: 12,\n    status: STATUS.idle,\n    error: null,\n    showModal: false,\n    modalImageURL: '',\n    modalImageALT: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, perPage } = this.state;\n    const { searchQuery } = this.props;\n\n    if (prevProps.searchQuery !== searchQuery) {\n      this.setState({ status: STATUS.pending });\n      fetch(\n        `${BASE_URL}?q=${this.props.searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n      )\n        .then(response => response.json())\n        .then(data => {\n          if (data.hits.length > 0) {\n            this.setState({\n              images: [...data.hits],\n              status: STATUS.resolved,\n            });\n          } else toast.error(`no data on your request '${searchQuery}'`);\n        })\n        .catch(error => {\n          this.setState({\n            status: STATUS.rejected,\n            error,\n            images: [],\n          });\n          toast.error(`${error.message}`);\n        });\n    }\n\n    if (prevState.page !== page) {\n      this.setState({ status: STATUS.pending });\n      fetch(\n        `${BASE_URL}?q=${this.props.searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n      )\n        .then(response => response.json())\n        .then(data => {\n          if (data.hits.length > 0) {\n            this.setState({\n              images: [...prevState.images, ...data.hits],\n              status: STATUS.resolved,\n            });\n          } else toast.error(`no data on your request '${searchQuery}'`);\n        })\n        .catch(error => {\n          this.setState({ status: STATUS.rejected, error });\n          toast.error(`${error.message}`);\n        });\n    }\n\n    this.scrolling();\n  }\n\n  scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = (url, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImageURL: url,\n      modalImageALT: alt,\n    }));\n  };\n\n  render() {\n    const { images, status, error, showModal } = this.state;\n\n    if (status === STATUS.idle) {\n      return <h2 className={styles.inscription}>Please type your query!</h2>;\n    }\n\n    if (status === STATUS.pending) {\n      return (\n        <div className={styles.loader}>\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        </div>\n      );\n    }\n\n    if (status === STATUS.rejected) {\n      return <h2 className={styles.inscription}>{error.message}</h2>;\n    }\n\n    if (status === STATUS.resolved) {\n      return (\n        <>\n          <ul className={styles.ImageGallery}>\n            {images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                src={image.webformatURL}\n                largeImg={image.largeImageURL}\n                onModal={this.toggleModal}\n                alt={image.tags}\n              />\n            ))}\n          </ul>\n          <Button loadMore={this.handleLoadMore} />\n          {showModal && (\n            <Modal\n              onModal={this.toggleModal}\n              modalImg={this.state.modalImageURL}\n              modalImgALT={this.state.modalImageALT}\n            />\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends React.Component {\n  static propTypes = { onSubmit: PropTypes.func };\n\n  state = {\n    searchInput: '',\n  };\n\n  handleInput = event => {\n    this.setState({ searchInput: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchInput.trim() === '') {\n      return toast.error('Please type your query!');\n    }\n\n    this.props.submit(this.state.searchInput);\n    this.setState({ searchInput: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleInput}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    searchInput: '',\n  };\n\n  handleSearchbar = data => {\n    this.setState({ searchInput: data });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar submit={this.handleSearchbar} />\n        <ImageGallery searchQuery={this.state.searchInput} />\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}